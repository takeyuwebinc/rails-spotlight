# 017_Article機能の廃止

## ステータス

承認済み

## 日付

2025-12-09

## コンテキスト

### 現状の問題点

1. **記事コンテンツの分散**
   - 現在、技術記事がspotlight-rails（自サイト）とZennの2箇所に分散している
   - どちらに記事を投稿するか都度判断が必要になり、運用コストが発生している
   - 読者にとっても、著者のコンテンツを追いかける際に複数のプラットフォームを確認する必要がある

2. **SEOの観点**
   - Zennは技術記事プラットフォームとしてドメインパワーが強く、検索エンジンでの露出が高い
   - 自サイトで同じ内容を公開するより、Zennに集約した方がSEO効果が期待できる
   - コンテンツの重複によるSEO上のデメリット（カニバリゼーション）を回避できる

3. **プラットフォームの機能差**
   - Zennはいいね、コメント、フォロー機能など読者とのエンゲージメント機能が充実
   - 自サイトのArticle機能は表示のみで、読者との双方向コミュニケーション機能がない

### ビジネス要件

- 技術記事はZenn（https://zenn.dev/p/takeyuwebinc）に一本化する
- spotlight-railsはポートフォリオサイトとして、プロジェクト・登壇実績・スライドの掲載に特化する

### 技術的制約

- 既存の11件の記事データの移行・削除が必要
- Tag機能はSlides、Speaking Engagementsでも使用されているため、完全削除はできない

## 決定

spotlight-railsからArticle機能を廃止し、技術記事の公開をZennに一本化することを決定した。

### 変更内容

1. **削除対象**
   - Articleモデル、ArticleTagモデル
   - ArticlesController
   - Article関連ビュー（index, show）
   - Article関連ルーティング（/articles, /articles/:slug）
   - Article関連MCPツール（CreateArticleTool, UpdateArticleTool, FindArticleTool）
   - Article関連テスト・ファクトリー
   - Article関連ドキュメント・テンプレート

2. **修正対象**
   - Tagモデル: Article関連のアソシエーション削除
   - TagsController: Article関連処理の削除
   - HomeController: 最新記事表示をZenn RSSフィードからの取得に変更
   - ナビゲーション・フッター: ArticlesリンクをZennへの外部リンクに変更
   - サイトマップ: Article関連エントリの削除
   - llms.txt: Article関連情報の削除

3. **新規追加**
   - Zenn RSSフィード取得機能: https://zenn.dev/p/takeyuwebinc/feed からの記事取得
   - トップページの新着記事セクション: RSSから取得した記事のタイトル・リンクを表示

4. **データ削除**
   - 重要な記事はすでにZennに移植済みのため、データ移行は不要
   - DBレコードおよびMarkdownファイルを削除

### 実装方針

1. Zenn RSSフィード取得機能を実装し、トップページの記事表示を切り替え
2. 段階的な削除を行い、各ステップでテストを実行
3. マイグレーションでarticles、article_tagsテーブルを削除
4. 関連コード・ファイルを削除
5. ナビゲーション・フッターのリンクをZennへの外部リンクに変更

## 結果

### ポジティブな影響

1. **コンテンツ管理の一元化**
   - 記事の投稿先が明確になり、運用コストが削減される
   - 読者は1箇所で全ての記事を閲覧できる

2. **SEO効果の集約**
   - Zennのドメインパワーを活用した検索露出の向上
   - コンテンツ重複によるSEOデメリットの解消

3. **コードベースの簡素化**
   - 約2,000行以上のコード削除（モデル、コントローラー、ビュー、テスト）
   - 保守対象の削減

4. **サイトの役割の明確化**
   - spotlight-rails: ポートフォリオ（プロジェクト、登壇、スライド）
   - Zenn: 技術記事

### ネガティブな影響

1. **外部プラットフォームへの依存**
   - Zennのサービス継続性・規約変更に依存する
   - RSSフィードの仕様変更に追従が必要

2. **MCPツールの削除**
   - Claude Codeから直接記事を作成・編集する機能が失われる

3. **RSSフィード取得の信頼性**
   - 外部サービスへのHTTPリクエストが必要
   - フィード取得失敗時のフォールバック処理が必要

### トレードオフ

- 自サイトでの記事表示機能を失う代わりに、Zennのエコシステム（読者層、SEO、エンゲージメント機能）を活用する
- MCPツールは失われるが、Zennの管理画面やGitHub連携で代替可能

## 代替案

### 代替案1: 現状維持

- 概要: 自サイトとZennの両方で記事を公開し続ける
- **却下理由**:
  - コンテンツの分散問題が解決しない
  - 運用コストが継続する
  - SEO上のカニバリゼーションリスクが残る

### 代替案2: Article機能を完全削除（RSSフィード取得なし）

- 概要: Article機能を削除し、トップページの記事セクションも完全に削除する
- **却下理由**:
  - トップページから記事への導線が完全になくなる
  - 訪問者がZennの記事の存在を認知しにくくなる
  - 技術記事を書いていることのアピールができなくなる

### 代替案3: 自サイトに一本化

- 概要: Zennへの投稿をやめ、自サイトのみで記事を公開する
- **却下理由**:
  - Zennのドメインパワー・読者層を活用できない
  - エンゲージメント機能の自前実装が必要
  - 既存のZennフォロワーへのリーチを失う

## 参考資料

- Zenn Publication: https://zenn.dev/p/takeyuwebinc
- Zenn RSSフィード: https://zenn.dev/p/takeyuwebinc/feed
- 既存記事一覧: docs/published/articles/
- Tag機能仕様: docs/specs/article_tags_feature.md
