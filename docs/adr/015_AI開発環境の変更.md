# 015_AI開発環境の変更

## ステータス

承認済み

## 日付

2025-05-31

## コンテキスト

プロジェクトの開発効率化を目的として、AI支援ツールとしてCLINEを使用していた。しかし、以下の理由により開発環境の見直しが必要となった：

1. Claude Maxプランの導入により、コスト制約が解消された
2. Claude Codeが提供する機能と安定性の向上
3. VSCodeとの統合による開発体験の向上
4. CLINEからMCPサーバーとしてClaude Codeを使用する方法の限界

### CLINEとClaude CodeのMCP統合の課題

過去にCLINEからMCPサーバーとしてClaude Codeを使用する設定を試行したが、以下の問題が判明した：

1. **機能制限**: MCPサーバーとして使用する場合、Claude Codeの全機能を活用できない
2. **統合の複雑さ**: 二つの異なるAIツールの橋渡しによる複雑性の増加
3. **開発体験の分離**: エディタ統合とAI支援が分離され、シームレスな体験を提供できない
4. **双方向の制約**: CLINEとClaude Codeそれぞれの強みを十分に発揮できない

### コスト効率の実証結果

検証により、以下のコスト効率基準が実証された：
- 50ファイル未満の作業：CLINE直接実行が効率的
- 50ファイル以上の大規模分析：Claude Code MCP使用が正当化される
- しかし、日常的な開発作業の多くは50ファイル未満であり、複雑な統合よりも直接的な使用が効率的

## 決定

我々は、AI開発支援ツールをCLINEからClaude Codeに完全移行することを決定した。

具体的には：
- CLINEの利用を終了する
- Claude Code（Maxプラン）を標準の開発支援ツールとする
- VSCode統合機能を活用し、エディタ内での直接的なAI支援を実現する
- CLINEとClaude CodeのMCP統合は行わない（各ツールの力を十分に発揮できないため）
- 既存の開発ルールとワークフローは継続する

## 結果

### ポジティブな影響
- コスト制約なしでAI支援機能を活用可能
- VSCodeとの統合によるシームレスな開発体験
- エディタ内でのファイル操作、コード編集、実行が可能
- より安定した開発体験
- Claude Codeの統合機能による効率向上
- 単一ツールによる一貫した開発環境

### ネガティブな影響
- 新しいツールへの習熟期間が必要
- 既存のCLINE設定の移行作業
- CLINEの特定機能（MCPサーバー統合等）の喪失

## 代替案

### CLINE継続使用
- 既存の設定やワークフローをそのまま継続
- 却下理由：Claude Maxプランの利点とVSCode統合を活用できない

### CLINEとClaude CodeのMCP統合
- CLINEからMCPサーバーとしてClaude Codeを使用
- 却下理由：双方の力を十分に発揮できず、開発体験が分離される

### 併用
- CLINEとClaude Codeを状況に応じて使い分け
- 却下理由：開発環境の複雑化、一貫性の欠如、管理コストの増加

## 参考資料

- Claude Code公式ドキュメント
- プロジェクトの既存AI利用ルール（.clinerules/ai.md）
- VSCode統合に関するドキュメント
- CLINE vs Claude Code MCP コスト効率検証レポート（docs/reports/20250531_cline_mcp_cost_efficiency_test.md）
- Claude Code MCP統合ガイド（docs/drafts/claude-code-mcp-guide.md）