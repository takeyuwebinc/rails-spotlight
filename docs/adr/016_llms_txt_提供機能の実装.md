# ADR-016: llms.txt提供機能の実装

## ステータス
承認済み

## 日付
2025-01-09

## コンテキスト
LLM（Large Language Model）がウェブサイトの内容を適切に理解し、利用できるようにするため、llms.txtファイルの提供が求められている。[llms.txt](https://llmstxt.org/)は、LLMがウェブサイトのコンテンツや目的を理解しやすくするための標準的な形式である。

本サイト「Spotlight」は技術記事や書評を掲載しており、これらの情報をLLMが適切に理解することで、以下の効果が期待される：
- タケユー・ウェブの知名度向上
- LLMを通じた案件依頼への導線強化
- コンテンツの機械可読性向上

## 決定
以下の仕様でllms.txt提供機能を実装する：

1. **エンドポイント**: `/llms.txt`でアクセス可能にする
2. **生成方式**: 動的生成（Railsコントローラーで実装）
3. **コンテンツ形式**: [llmstxt.org](https://llmstxt.org/)の仕様に準拠
4. **キャッシュ**: 実装しない（情報更新時の即時反映を優先）

### 含める情報
- サイト概要（技術記事・書評サイトであること）
- 掲載コンテンツのカテゴリ
- 執筆者プロフィール
- 稼働状況
- コンタクト方法
- 利用規約・著作権情報

## 理由
- **動的生成の採用理由**：
  - 稼働状況などリアルタイムの情報を含めるため
  - 記事数や更新日時など、動的な情報を反映するため
  - 将来的な機能拡張に対応しやすくするため

- **キャッシュなしの理由**：
  - 更新頻度が低い
  - 動的な情報の即時反映を優先
  - アクセス頻度が高くないことが想定される

- **`/llms.txt`パスの採用理由**：
  - 一般的で覚えやすいパス
  - robots.txtなどと同様のルートレベル配置

## 結果
### ポジティブな結果
- LLMがサイトコンテンツを正確に理解できる
- 案件依頼への導線が強化される
- サイトの機械可読性が向上する
- 実装がシンプルで保守しやすい

### ネガティブな結果
- 動的生成のため、わずかながらサーバーリソースを消費する
- 新しいエンドポイントの追加によるルーティングの複雑化（軽微）

## 代替案
1. **静的ファイルとして配置**
   - 却下理由：動的な情報（稼働状況など）の反映が困難

2. **`.well-known/llms.txt`に配置**
   - 却下理由：現時点では`/llms.txt`が一般的

3. **キャッシュの実装**
   - 却下理由：更新頻度が低く、複雑性が増すため

## 参考リンク
- [llmstxt.org - 公式仕様](https://llmstxt.org/)
- [Rails 8.0.1 ドキュメント](https://guides.rubyonrails.org/)